# collective-development
Repository contains implementations of cours tasks by Daniil Lukinov.
Что реализовано:
1. Реализовано преобразование текстового представления базы в представление в RAM:
  * реализованы классы, моделирующие элементы базы (модуль ram_structure)
  * реализован модуль, позволяющий произвести разбор текстового представления в объектное (модуль xml_to_ra,)
  * реализованы методы валидации (проверки корректности данных) элементов объектного представления (модуль ram_validation)
  * реализован каскадный проброс ошибок, позволяющий получить больше информации о местоположении неверно заданных элементов
  * реализованы преобразование и загрузка структурированных индексов и ограничений по средствам создания деталей
2. Реализовано преобразование объектного представления базы в текстовое:
  * реализован модуль, позволяющий произвести данное преобразование (модуль ram_to_xml)
3. Реализован модуль для тестового запуска реализованных процедур (XML-RAM), который:
  * выполняет преобразование двух предоставленных тестовых файлом в объектное представление в RAM (модуль test_xml_ram)
  * полученные модели преобразует обратно в текстовое представление XML (модуль test_xml_ram)
  * производит построчную сверку файлов с точностью до межстрочных разделителей и делает заключение об идентичности (модуль test_xml_ram)
4. Реализван модуль выгрузки RAM-представления в базу SQLite. Таким образом создается DBD-представление схемы (модуль ram_to_dbd)
  * Модуль содержит метод upload, который в качестве параметров получает путь к создаваемому файлу базы данных и список выгружаемых схем.
  * В первую очередь создаются источники в БД для временного и постоянного хранения структурных элементов.
  * Выгрузка производится во временные источники для того, чтобы избежать большого количества обращений к БД по ключу.
  * Производится выгрузка всех данных из переданных объектов во временные источники. Запросы для выгрузки находятся в файле "dbd_queries.cfg".
  * Запускается скрипт, переливающий данные из временных источников в постоянные, проставляя все связи.
5. Реализован модуль загрузки DBD-представления и преобразования в RAM-представление.
  * С использованием скриптов, находящихся в файле "dbd_queries.cfg", производится загрузка словарей из базы SQLite.
  * Полученные словари преобразуются в последовательность объектов RAM-представления.
  * Исходя из загруженных из БД идентификаторов проставляются связи между объектами в RAM.
6. Реализован модуль для тестового запуска реализованных процедур (RAM-DBD), который:
  * Преобразует содержимое файла с XML-представлением в RAM-представление.
  * Полученное представление в ОП преобразует в реляционное (dbd).
  * Выполняет обратный процесс: из реляционного представления преобразует данные в RAM-представление, затем в XML.
  * В конечном итогу производится построчное сравнение результата выгрузки с исходным файлом.
7. Реализован класс, генерирующий DLL-инструкции. (модуль ddl_genearator)
  * На вход методы класса получают объекты элементов метаданных в объектном представлении.
  * Методы класса производят формирование DLL-инструкций для создания элементов в БД PostgreSQL.
  * На выходе методов - готова DLL-инструкция, готовая к выполнению.
8. Реализован класс, представляющий собой подключение к серверу Postgres, способный генерировать пустую БД по реляционному или текстовому представлению. (модуль dll_aplying)
  * При инициализации классу передается путь к config-файлу с параметрами подключения.
  * Соответствующие методы класса производят генерацию элемента в БД, получая на вход объект в объектном представлении.
  * Метод deploy, получающий на вход имя генерируемой БД и путь к файлу с одним из заданных представлений метаданных, создает и генерирует структуру, исходя из метаданных.
9. Начата реализация unit-теста для проверки класса DllGenerator, но разработка прекращена в связи с проблемамы сравнения многострочных переменных.
10. Реализован мини-модуль (test_ddl_applying), производящий запуск генерации пустой БД из двух представлений: реляционного и текстового. Базы успешно формируются.